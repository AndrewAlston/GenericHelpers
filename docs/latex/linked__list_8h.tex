\hypertarget{linked__list_8h}{}\doxysection{linked\+\_\+list.\+h File Reference}
\label{linked__list_8h}\index{linked\_list.h@{linked\_list.h}}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structroute4tree}{route4tree}}
\begin{DoxyCompactList}\small\item\em The \mbox{\hyperlink{structroute4tree}{route4tree}} structure is used in the creation of a 32 bit binary tree. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void $\ast$($\ast$ \mbox{\hyperlink{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}{callback}}) (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$, void $\ast$)
\item 
typedef void $\ast$($\ast$ \mbox{\hyperlink{linked__list_8h_ac4fc83870d151fef70b30763ee82d050}{callback\+\_\+remove}}) (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$, void $\ast$, void $\ast$)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$ \mbox{\hyperlink{linked__list_8h_a8039c47f44e43b60d48281b765e115dd}{init\+\_\+tree4}} (void)
\begin{DoxyCompactList}\small\item\em Initialize a binary tree head entry. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$ \mbox{\hyperlink{linked__list_8h_afe6585b2b195138bee10c6d6fd662af3}{insert\+\_\+tree4}} (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$tree, \+\_\+\+\_\+u32 addr, \+\_\+\+\_\+u8 cidr, void $\ast$\mbox{\hyperlink{structdata}{data}}, \mbox{\hyperlink{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}{callback}} cb)
\begin{DoxyCompactList}\small\item\em This inserts an entry into a binary tree. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{linked__list_8h_ac25fde7383ee19246c5d4d32a787261b}{lookup\+\_\+lpm}} (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$tree, \+\_\+\+\_\+u32 addr, \+\_\+\+\_\+u8 cidr, void $\ast$\mbox{\hyperlink{structdata}{data}}, \mbox{\hyperlink{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}{callback}} cb)
\begin{DoxyCompactList}\small\item\em This does a longest prefix match against the binary tree. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{linked__list_8h_ae7cfa01f7811ee67436884bd94548a21}{lookup\+\_\+exact}} (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$tree, \+\_\+\+\_\+u32 addr, \+\_\+\+\_\+u8 cidr, void $\ast$\mbox{\hyperlink{structdata}{data}}, \mbox{\hyperlink{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}{callback}} cb)
\begin{DoxyCompactList}\small\item\em This does an exact match lookup against the tree. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{linked__list_8h_a21c5fa86cae714013d79e739c14575c2}{remove\+\_\+node}} (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$tree, \+\_\+\+\_\+u32 address, \+\_\+\+\_\+u8 cidr, void $\ast$\mbox{\hyperlink{structdata}{data}}, \mbox{\hyperlink{linked__list_8h_ac4fc83870d151fef70b30763ee82d050}{callback\+\_\+remove}} cb)
\begin{DoxyCompactList}\small\item\em This function removes a node from the tree. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{linked__list_8h_ac7cb413164f2ed7b1c62f1840f1eae04}{free\+\_\+tree4}} (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$$\ast$tree)
\begin{DoxyCompactList}\small\item\em Frees an entire 32-\/bit binary tree using post-\/order traversal. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}\label{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}} 
\index{linked\_list.h@{linked\_list.h}!callback@{callback}}
\index{callback@{callback}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{callback}{callback}}
{\footnotesize\ttfamily typedef void$\ast$($\ast$ callback) (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$, void $\ast$)}

\mbox{\Hypertarget{linked__list_8h_ac4fc83870d151fef70b30763ee82d050}\label{linked__list_8h_ac4fc83870d151fef70b30763ee82d050}} 
\index{linked\_list.h@{linked\_list.h}!callback\_remove@{callback\_remove}}
\index{callback\_remove@{callback\_remove}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{callback\_remove}{callback\_remove}}
{\footnotesize\ttfamily typedef void$\ast$($\ast$ callback\+\_\+remove) (struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$, void $\ast$, void $\ast$)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{linked__list_8h_ac7cb413164f2ed7b1c62f1840f1eae04}\label{linked__list_8h_ac7cb413164f2ed7b1c62f1840f1eae04}} 
\index{linked\_list.h@{linked\_list.h}!free\_tree4@{free\_tree4}}
\index{free\_tree4@{free\_tree4}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{free\_tree4()}{free\_tree4()}}
{\footnotesize\ttfamily void free\+\_\+tree4 (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$$\ast$}]{tree }\end{DoxyParamCaption})}



Frees an entire 32-\/bit binary tree using post-\/order traversal. 

This function traverses the entire tree starting from the given node and frees all dynamically allocated memory for\+:
\begin{DoxyItemize}
\item child nodes ({\ttfamily set} and {\ttfamily unset} pointers)
\item the {\ttfamily data} pointer stored at each node
\item the node itself
\end{DoxyItemize}

The traversal is performed in a post-\/order manner (children first, then parent) to ensure no node is freed before its children, avoiding use-\/after-\/free errors. Parent pointers are used to explicitly walk back up the tree without recursion.

After calling this function on the root of a tree, all memory associated with that tree is released. The caller must not use any pointer to this tree or its nodes after this function returns.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & A double pointer to the root of a 32-\/bit binary tree ({\ttfamily struct \mbox{\hyperlink{structroute4tree}{route4tree}}}) to be freed. If the inner pointer is NULL, the function does nothing. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{linked__list_8h_a8039c47f44e43b60d48281b765e115dd}\label{linked__list_8h_a8039c47f44e43b60d48281b765e115dd}} 
\index{linked\_list.h@{linked\_list.h}!init\_tree4@{init\_tree4}}
\index{init\_tree4@{init\_tree4}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{init\_tree4()}{init\_tree4()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structroute4tree}{route4tree}}$\ast$ init\+\_\+tree4 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize a binary tree head entry. 

\begin{DoxyReturn}{Returns}
A pointer to the head of a binary tree 
\end{DoxyReturn}
\mbox{\Hypertarget{linked__list_8h_afe6585b2b195138bee10c6d6fd662af3}\label{linked__list_8h_afe6585b2b195138bee10c6d6fd662af3}} 
\index{linked\_list.h@{linked\_list.h}!insert\_tree4@{insert\_tree4}}
\index{insert\_tree4@{insert\_tree4}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{insert\_tree4()}{insert\_tree4()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structroute4tree}{route4tree}}$\ast$ insert\+\_\+tree4 (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$}]{tree,  }\item[{\+\_\+\+\_\+u32}]{addr,  }\item[{\+\_\+\+\_\+u8}]{cidr,  }\item[{void $\ast$}]{data,  }\item[{\mbox{\hyperlink{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}{callback}}}]{cb }\end{DoxyParamCaption})}



This inserts an entry into a binary tree. 

Data is a void pointer making this generic and able to store any data in the tree. It should be noted that the tree must be initialized before first insertion using \mbox{\hyperlink{linked__list_8h_a8039c47f44e43b60d48281b765e115dd}{init\+\_\+tree4()}}; 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & An initialized binary tree \\
\hline
\mbox{\texttt{ in}}  & {\em addr} & A 32 bit address to be inserted into the tree \\
\hline
\mbox{\texttt{ in}}  & {\em cidr} & An integer representing how many bits of the address to insert into the tree \\
\hline
\mbox{\texttt{ in}}  & {\em data} & A void pointer to the data to insert into the tree \\
\hline
\mbox{\texttt{ in}}  & {\em cb} & A Function pointer used for inserting data -\/ if NULL the tree data pointer will simply point to the data parameter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A \mbox{\hyperlink{structroute4tree}{route4tree}} structure at the inserted position in the tree 
\end{DoxyReturn}
\mbox{\Hypertarget{linked__list_8h_ae7cfa01f7811ee67436884bd94548a21}\label{linked__list_8h_ae7cfa01f7811ee67436884bd94548a21}} 
\index{linked\_list.h@{linked\_list.h}!lookup\_exact@{lookup\_exact}}
\index{lookup\_exact@{lookup\_exact}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{lookup\_exact()}{lookup\_exact()}}
{\footnotesize\ttfamily void$\ast$ lookup\+\_\+exact (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$}]{tree,  }\item[{\+\_\+\+\_\+u32}]{addr,  }\item[{\+\_\+\+\_\+u8}]{cidr,  }\item[{void $\ast$}]{data,  }\item[{\mbox{\hyperlink{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}{callback}}}]{cb }\end{DoxyParamCaption})}



This does an exact match lookup against the tree. 

This function will return the tree structure at the exact match point if it can transverse the tree to the depths represented by cidr and if data is present at the end of the transversal 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & The head of an initialized binary tree \\
\hline
\mbox{\texttt{ in}}  & {\em addr} & An address to lookup in the tree \\
\hline
\mbox{\texttt{ in}}  & {\em cidr} & The depth to transverse to in the tree \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the tree entry if matched, or NULL 
\end{DoxyReturn}
\mbox{\Hypertarget{linked__list_8h_ac25fde7383ee19246c5d4d32a787261b}\label{linked__list_8h_ac25fde7383ee19246c5d4d32a787261b}} 
\index{linked\_list.h@{linked\_list.h}!lookup\_lpm@{lookup\_lpm}}
\index{lookup\_lpm@{lookup\_lpm}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{lookup\_lpm()}{lookup\_lpm()}}
{\footnotesize\ttfamily void$\ast$ lookup\+\_\+lpm (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$}]{tree,  }\item[{\+\_\+\+\_\+u32}]{addr,  }\item[{\+\_\+\+\_\+u8}]{cidr,  }\item[{void $\ast$}]{data,  }\item[{\mbox{\hyperlink{linked__list_8h_a009950799adec8c3c6b8e96d13b75340}{callback}}}]{cb }\end{DoxyParamCaption})}



This does a longest prefix match against the binary tree. 

This function will return at the deepest point in the tree that is matched and has data. It is useful in the data pointer to store the actual prefix and cidr so that when this returns you can know exactly what has been matched. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & The head of an initialized binary tree \\
\hline
\mbox{\texttt{ in}}  & {\em addr} & A 32 bit address to be searched for in the tree \\
\hline
\mbox{\texttt{ in}}  & {\em cidr} & The maximum number of bits to transverse to in the tree \\
\hline
\mbox{\texttt{ in}}  & {\em data} & If set, and if callback is set, this is passed to the callback along with the node \\
\hline
\mbox{\texttt{ in}}  & {\em cb} & If set, and if data is set, this is called for more granular data matching \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A tree entry at the deepest point possible in the transversal or if using callback the callback result is returned 
\end{DoxyReturn}
\mbox{\Hypertarget{linked__list_8h_a21c5fa86cae714013d79e739c14575c2}\label{linked__list_8h_a21c5fa86cae714013d79e739c14575c2}} 
\index{linked\_list.h@{linked\_list.h}!remove\_node@{remove\_node}}
\index{remove\_node@{remove\_node}!linked\_list.h@{linked\_list.h}}
\doxysubsubsection{\texorpdfstring{remove\_node()}{remove\_node()}}
{\footnotesize\ttfamily void remove\+\_\+node (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structroute4tree}{route4tree}} $\ast$}]{tree,  }\item[{\+\_\+\+\_\+u32}]{address,  }\item[{\+\_\+\+\_\+u8}]{cidr,  }\item[{void $\ast$}]{data,  }\item[{\mbox{\hyperlink{linked__list_8h_ac4fc83870d151fef70b30763ee82d050}{callback\+\_\+remove}}}]{cb }\end{DoxyParamCaption})}



This function removes a node from the tree. 

This function will remove a node from the tree, and all empty parent nodes. If a parent node still has children or data the function will cease the reverse transversal 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & The head of an initialized binary tree \\
\hline
\mbox{\texttt{ in}}  & {\em address} & The address to lookup in the tree -\/ This should be in big endian order \\
\hline
\mbox{\texttt{ in}}  & {\em cidr} & The depth to transverse before we start back tracing and freeing \\
\hline
\mbox{\texttt{ in}}  & {\em data} & If this is set AND callback is set, the callback is used with the node data and the supplied data to determine removal \\
\hline
\mbox{\texttt{ in}}  & {\em cb} & If set call the callback removal function with the node data pointer and the supplied data pointer \\
\hline
\end{DoxyParams}
