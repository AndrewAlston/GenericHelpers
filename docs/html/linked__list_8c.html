<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Generic helper / demonstration library: linked_list.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Generic helper / demonstration library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">linked_list.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8039c47f44e43b60d48281b765e115dd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linked__list_8c.html#a8039c47f44e43b60d48281b765e115dd">init_tree4</a> (void)</td></tr>
<tr class="memdesc:a8039c47f44e43b60d48281b765e115dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a binary tree head entry.  <a href="linked__list_8c.html#a8039c47f44e43b60d48281b765e115dd">More...</a><br /></td></tr>
<tr class="separator:a8039c47f44e43b60d48281b765e115dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6585b2b195138bee10c6d6fd662af3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linked__list_8c.html#afe6585b2b195138bee10c6d6fd662af3">insert_tree4</a> (struct <a class="el" href="structroute4tree.html">route4tree</a> *tree, __u32 addr, __u8 cidr, void *<a class="el" href="structdata.html">data</a>, <a class="el" href="linked__list_8h.html#aba031064c2939b045daae6e376bf9534">callback</a> cb)</td></tr>
<tr class="memdesc:afe6585b2b195138bee10c6d6fd662af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This inserts an entry into a binary tree.  <a href="linked__list_8c.html#afe6585b2b195138bee10c6d6fd662af3">More...</a><br /></td></tr>
<tr class="separator:afe6585b2b195138bee10c6d6fd662af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb768f4a8298bf1c98458904170e83c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linked__list_8c.html#afbb768f4a8298bf1c98458904170e83c">lookup_lpm</a> (struct <a class="el" href="structroute4tree.html">route4tree</a> *tree, __u32 addr, __u8 cidr)</td></tr>
<tr class="memdesc:afbb768f4a8298bf1c98458904170e83c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This does a longest prefix match against the binary tree.  <a href="linked__list_8c.html#afbb768f4a8298bf1c98458904170e83c">More...</a><br /></td></tr>
<tr class="separator:afbb768f4a8298bf1c98458904170e83c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc2d663510c6c5d559aeaab82eda7bd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linked__list_8c.html#abdc2d663510c6c5d559aeaab82eda7bd">lookup_exact</a> (struct <a class="el" href="structroute4tree.html">route4tree</a> *tree, __u32 addr, __u8 cidr)</td></tr>
<tr class="memdesc:abdc2d663510c6c5d559aeaab82eda7bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This does an exact match lookup against the tree.  <a href="linked__list_8c.html#abdc2d663510c6c5d559aeaab82eda7bd">More...</a><br /></td></tr>
<tr class="separator:abdc2d663510c6c5d559aeaab82eda7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c5fa86cae714013d79e739c14575c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linked__list_8c.html#a21c5fa86cae714013d79e739c14575c2">remove_node</a> (struct <a class="el" href="structroute4tree.html">route4tree</a> *tree, __u32 address, __u8 cidr, void *<a class="el" href="structdata.html">data</a>, <a class="el" href="linked__list_8h.html#abd85e70fa30638b7c33748ab18bd615a">callback_remove</a> cb)</td></tr>
<tr class="memdesc:a21c5fa86cae714013d79e739c14575c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function removes a node from the tree.  <a href="linked__list_8c.html#a21c5fa86cae714013d79e739c14575c2">More...</a><br /></td></tr>
<tr class="separator:a21c5fa86cae714013d79e739c14575c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7cb413164f2ed7b1c62f1840f1eae04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linked__list_8c.html#ac7cb413164f2ed7b1c62f1840f1eae04">free_tree4</a> (struct <a class="el" href="structroute4tree.html">route4tree</a> **tree)</td></tr>
<tr class="memdesc:ac7cb413164f2ed7b1c62f1840f1eae04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees an entire 32-bit binary tree using post-order traversal.  <a href="linked__list_8c.html#ac7cb413164f2ed7b1c62f1840f1eae04">More...</a><br /></td></tr>
<tr class="separator:ac7cb413164f2ed7b1c62f1840f1eae04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac7cb413164f2ed7b1c62f1840f1eae04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7cb413164f2ed7b1c62f1840f1eae04">&#9670;&nbsp;</a></span>free_tree4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_tree4 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute4tree.html">route4tree</a> **&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees an entire 32-bit binary tree using post-order traversal. </p>
<p>This function traverses the entire tree starting from the given node and frees all dynamically allocated memory for:</p><ul>
<li>child nodes (<code>set</code> and <code>unset</code> pointers)</li>
<li>the <code>data</code> pointer stored at each node</li>
<li>the node itself</li>
</ul>
<p>The traversal is performed in a post-order manner (children first, then parent) to ensure no node is freed before its children, avoiding use-after-free errors. Parent pointers are used to explicitly walk back up the tree without recursion.</p>
<p>After calling this function on the root of a tree, all memory associated with that tree is released. The caller must not use any pointer to this tree or its nodes after this function returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>A double pointer to the root of a 32-bit binary tree (<code>struct <a class="el" href="structroute4tree.html" title="The route4tree structure is used in the creation of a 32 bit binary tree.">route4tree</a></code>) to be freed. If the inner pointer is NULL, the function does nothing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8039c47f44e43b60d48281b765e115dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8039c47f44e43b60d48281b765e115dd">&#9670;&nbsp;</a></span>init_tree4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute4tree.html">route4tree</a>* init_tree4 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a binary tree head entry. </p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the head of a binary tree </dd></dl>

</div>
</div>
<a id="afe6585b2b195138bee10c6d6fd662af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe6585b2b195138bee10c6d6fd662af3">&#9670;&nbsp;</a></span>insert_tree4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute4tree.html">route4tree</a>* insert_tree4 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8&#160;</td>
          <td class="paramname"><em>cidr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="linked__list_8h.html#aba031064c2939b045daae6e376bf9534">callback</a>&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This inserts an entry into a binary tree. </p>
<p>Data is a void pointer making this generic and able to store any data in the tree. It should be noted that the tree must be initialized before first insertion using <a class="el" href="linked__list_8h.html#a8039c47f44e43b60d48281b765e115dd" title="Initialize a binary tree head entry.">init_tree4()</a>; </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>An initialized binary tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>A 32 bit address to be inserted into the tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cidr</td><td>An integer representing how many bits of the address to insert into the tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>A void pointer to the data to insert into the tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>A Function pointer used for inserting data - if NULL the tree data pointer will simply point to the data parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="structroute4tree.html" title="The route4tree structure is used in the creation of a 32 bit binary tree.">route4tree</a> structure at the inserted position in the tree </dd></dl>

</div>
</div>
<a id="abdc2d663510c6c5d559aeaab82eda7bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc2d663510c6c5d559aeaab82eda7bd">&#9670;&nbsp;</a></span>lookup_exact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute4tree.html">route4tree</a>* lookup_exact </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8&#160;</td>
          <td class="paramname"><em>cidr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This does an exact match lookup against the tree. </p>
<p>This function will return the tree structure at the exact match point if it can transverse the tree to the depths represented by cidr and if data is present at the end of the transversal </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>The head of an initialized binary tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>An address to lookup in the tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cidr</td><td>The depth to transverse to in the tree </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the tree entry if matched, or NULL </dd></dl>

</div>
</div>
<a id="afbb768f4a8298bf1c98458904170e83c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbb768f4a8298bf1c98458904170e83c">&#9670;&nbsp;</a></span>lookup_lpm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute4tree.html">route4tree</a>* lookup_lpm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8&#160;</td>
          <td class="paramname"><em>cidr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This does a longest prefix match against the binary tree. </p>
<p>This function will return at the deepest point in the tree that is matched and has data. It is useful in the data pointer to store the actual prefix and cidr so that when this returns you can know exactly what has been matched. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>The head of an initialized binary tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>A 32 bit address to be searched for in the tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cidr</td><td>The maximum number of bits to transverse to in the tree </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tree entry at the deepest point possible in the transversal </dd></dl>

</div>
</div>
<a id="a21c5fa86cae714013d79e739c14575c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c5fa86cae714013d79e739c14575c2">&#9670;&nbsp;</a></span>remove_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remove_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute4tree.html">route4tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8&#160;</td>
          <td class="paramname"><em>cidr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="linked__list_8h.html#abd85e70fa30638b7c33748ab18bd615a">callback_remove</a>&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function removes a node from the tree. </p>
<p>This function will remove a node from the tree, and all empty parent nodes. If a parent node still has children or data the function will cease the reverse transversal </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>The head of an initialized binary tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>The address to lookup in the tree - This should be in big endian order </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cidr</td><td>The depth to transverse before we start back tracing and freeing </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>If this is set AND callback is set, the callback is used with the node data and the supplied data to determine removal </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>If set call the callback removal function with the node data pointer and the supplied data pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
